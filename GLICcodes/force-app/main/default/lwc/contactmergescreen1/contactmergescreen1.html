<template>

    <template if:true={error}>
        <h2>
            <div class="slds-text-color_destructive slds-text-heading_medium slds-align_absolute-center" style="font-weight: bold;">
                {error}
            </div>
        </h2>
    </template>

    <div class="slds-p-around_medium lgc-bg slds-float_right">
        <lightning-button label={label.next} variant="brand" onclick={handleNext} class=""></lightning-button>
        <lightning-button label={label.refresh} onclick={handleRefresh} class="slds-p-left_medium"></lightning-button>
        
    </div>
    <br><br>
    
    <form>
        <div class="slds-p-around_medium lgc-bg">
            <lightning-input type="text" label={label.searchContact} placeholder={label.enterhere} onchange={handleContactInput} name="userinput" class="contactName" id="userinputsc1"></lightning-input>
            <br>
        </div>
    </form>

    <!-- table starts-->
    <template if:true={contactData}>
        
        <table class="slds-table slds-table_cell-buffer slds-table_bordered">
            <thead>
                <tr class="slds-line-height_reset">
                    <th class="" scope="col">
                        <div class="slds-truncate">
                        
                        </div>
                    </th>
                   
                    <th class="" scope="col">
                        <div class="slds-truncate" title={label.contactName}>
                            <lightning-icon icon-name="standard:contact" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.contactName}</span>
                        </div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title={label.contactName}>
                            <lightning-icon icon-name="standard:account" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.planholder}</span>
                        </div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title={label.recordType}>
                            <lightning-icon icon-name="standard:record" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.recordType}</span>
                        </div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title={label.email}>
                            <lightning-icon icon-name="standard:email" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.email}</span>
                        </div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title={label.phone}>
                            <lightning-icon icon-name="standard:call" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.phone}</span>
                        </div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title={label.title}>
                            <lightning-icon icon-name="standard:employee_job" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.title}</span>
                        </div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title={label.rgo}>
                            <lightning-icon icon-name="standard:address" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.rgo}</span>
                        </div>
                    </th>
                    <!--<th class="" scope="col">
                        <div class="slds-truncate" title={label.producerTier}>
                            <lightning-icon icon-name="standard:timeslot" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.producerTier}</span>
                        </div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title={label.sgsProducerTier}>
                            <lightning-icon icon-name="standard:timesheet" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.sgsProducerTier}</span>
                        </div>
                    </th>-->
                    <th class="" scope="col">
                        <div class="slds-truncate" title={label.status}>
                            <lightning-icon icon-name="standard:key_dates" size="small" ></lightning-icon>
                            <span class="slds-p-left_x-small">{label.status}</span>
                        </div>
                    </th>
                </tr>
            </thead>
            
            <tbody>
                <template for:each={contactData} for:item="record">
                    <tr key={record.Id}>
                        <td scope="col">
                            <div>
                                <lightning-input type="checkbox" value={record.Id} data-id={record.Id} onchange={handleCheckboxSelection}></lightning-input>
                            </div>
                        </td>
                       
                        <td scope="col">
                            <div>{record.Name}</div>
                        </td>
                        <td scope="col">
                            <div>{record.Account.Name}</div>
                        </td>
                        <td scope="col">
                            <div>{record.RecordType.Name}</div>
                        </td>
                        <td scope="col">
                            <div>{record.Email}</div>
                        </td>
                        <td scope="col">
                            <div>{record.Phone}</div>
                        </td>
                        <td scope="col">
                            <div>{record.Title}</div>
                        </td>
                        <td scope="col">
                            <div>{record.RGO__c}</div>
                        </td>
                        <!--<td scope="col">
                            <div>{record.Producer_Tier__c}</div>
                        </td>
                        <td scope="col">
                            <div>{record.SGS_Producer_Tier__c}</div>
                        </td>-->
                        <td scope="col">
                            <div>{record.Status__c}</div>
                        </td>
                    </tr>
                </template>
            </tbody> 
        </table>
    </template>
    <!--table ends-->
</template>